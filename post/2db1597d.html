<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>项目质量监测 | 满天鑫</title><meta name="keywords" content="前端,项目质量监测"><meta name="author" content="满天鑫"><meta name="copyright" content="满天鑫"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="项目质量监测课程介绍没有规矩不成方圆，所以我们写代码也要有”规矩”，但是我们通常记不住所有的”规矩”，因为人嘛，不可能不犯错。但是，这难不到我们程序员，我们让机器、代码、程序帮我们搞定，让它们来帮我们进行代码质量检查，以便提高的程序的健壮性。 通常来说，项目的质量决定了：  软件项目的命运 软件项目的可维护性 软件项目的运维成本 软件项目的扩展性  为什么要进行代码质量检查？ 代码检查很重要，原因">
<meta property="og:type" content="article">
<meta property="og:title" content="项目质量监测">
<meta property="og:url" content="https://smanman.github.io/post/2db1597d.html">
<meta property="og:site_name" content="满天鑫">
<meta property="og:description" content="项目质量监测课程介绍没有规矩不成方圆，所以我们写代码也要有”规矩”，但是我们通常记不住所有的”规矩”，因为人嘛，不可能不犯错。但是，这难不到我们程序员，我们让机器、代码、程序帮我们搞定，让它们来帮我们进行代码质量检查，以便提高的程序的健壮性。 通常来说，项目的质量决定了：  软件项目的命运 软件项目的可维护性 软件项目的运维成本 软件项目的扩展性  为什么要进行代码质量检查？ 代码检查很重要，原因">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://note-1259153703.cos.ap-nanjing.myqcloud.com/images/20211004082249.jpg">
<meta property="article:published_time" content="2021-11-19T14:39:00.000Z">
<meta property="article:modified_time" content="2022-11-27T09:16:48.132Z">
<meta property="article:author" content="满天鑫">
<meta property="article:tag" content="前端">
<meta property="article:tag" content="项目质量监测">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://note-1259153703.cos.ap-nanjing.myqcloud.com/images/20211004082249.jpg"><link rel="shortcut icon" href="https://lvxueyangboke.oss-cn-beijing.aliyuncs.com/images/20210805191028.png"><link rel="canonical" href="https://smanman.github.io/post/2db1597d"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    jQuery: 'https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js',
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
    },
    fancybox: {
      js: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js',
      css: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '项目质量监测',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2022-11-27 17:16:48'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const fontSizeVal = saveToLocal.get('global-font-size')
    if (fontSizeVal !== undefined) {
      document.documentElement.style.setProperty('--global-font-size', fontSizeVal + 'px')
    }
    
    const detectApple = () => {
      if (GLOBAL_CONFIG_SITE.isHome && /iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/LVXUEYANGTiger/blog@main/ali_icon.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/LVXUEYANGTiger/blog@main/mogai.css"><link rel="stylesheet" href="/css/custom.css" media="defer" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/l-lin/font-awesome-animation/dist/font-awesome-animation.min.css"  media="defer" onload="this.media='all'"><meta name="generator" content="Hexo 5.4.0"><link rel="alternate" href="/atom.xml" title="满天鑫" type="application/atom+xml">
</head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="wizard-scene"><div class="wizard-objects"><div class="wizard-square"></div><div class="wizard-circle"></div><div class="wizard-triangle"></div></div><div class="wizard"><div class="wizard-body"></div><div class="wizard-right-arm"><div class="wizard-right-hand"></div></div><div class="wizard-left-arm"><div class="wizard-left-hand"></div></div><div class="wizard-head"><div class="wizard-beard"></div><div class="wizard-face"><div class="wizard-adds"></div></div><div class="wizard-hat"><div class="wizard-hat-of-the-hat"></div><div class="wizard-four-point-star --first"></div><div class="wizard-four-point-star --second"></div><div class="wizard-four-point-star --third"></div></div></div></div></div></div><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://note-1259153703.cos.ap-nanjing.myqcloud.com/images/202406071141762.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">文章</div><div class="length-num">99</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">标签</div><div class="length-num">38</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">分类</div><div class="length-num">31</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw iconfont icon-shouyex"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw iconfont icon-zuixinwenzhang_huaban"></i><span> 找文章</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/categories/"><i class="fa-fw iconfont icon-fenlei1"></i><span> 分类</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw iconfont icon-biaoqian1"></i><span> 标签</span></a></li><li><a class="site-page child" href="/archives/"><i class="fa-fw iconfont icon-shijianzhou"></i><span> 归档</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw iconfont icon-shenghuo"></i><span> 生活</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/timeline/"><i class="fa-fw iconfont icon-shijianzhou"></i><span> 时间轴</span></a></li><li><a class="site-page child" href="/link/"><i class="fa-fw iconfont icon-lianjie"></i><span> 友人帐</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw iconfont icon-gerenzhongxin"></i><span> 关于笔者</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://note-1259153703.cos.ap-nanjing.myqcloud.com/images/20211004082249.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">满天鑫</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw iconfont icon-shouyex"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw iconfont icon-zuixinwenzhang_huaban"></i><span> 找文章</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/categories/"><i class="fa-fw iconfont icon-fenlei1"></i><span> 分类</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw iconfont icon-biaoqian1"></i><span> 标签</span></a></li><li><a class="site-page child" href="/archives/"><i class="fa-fw iconfont icon-shijianzhou"></i><span> 归档</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw iconfont icon-shenghuo"></i><span> 生活</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/timeline/"><i class="fa-fw iconfont icon-shijianzhou"></i><span> 时间轴</span></a></li><li><a class="site-page child" href="/link/"><i class="fa-fw iconfont icon-lianjie"></i><span> 友人帐</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw iconfont icon-gerenzhongxin"></i><span> 关于笔者</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">项目质量监测</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2021-11-19T14:39:00.000Z" title="发表于 2021-11-19 22:39:00">2021-11-19</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-11-27T09:16:48.132Z" title="更新于 2022-11-27 17:16:48">2022-11-27</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E5%89%8D%E7%AB%AF/">前端</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E5%89%8D%E7%AB%AF/%E9%A1%B9%E7%9B%AE%E8%B4%A8%E9%87%8F%E7%9B%91%E6%B5%8B/">项目质量监测</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">9.2k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>34分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="项目质量监测"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="项目质量监测"><a href="#项目质量监测" class="headerlink" title="项目质量监测"></a>项目质量监测</h1><h2 id="课程介绍"><a href="#课程介绍" class="headerlink" title="课程介绍"></a>课程介绍</h2><p>没有规矩不成方圆，所以我们写代码也要有”规矩”，但是我们通常记不住所有的”规矩”，因为人嘛，不可能不犯错。但是，这难不到我们程序员，我们让机器、代码、程序帮我们搞定，让它们来帮我们进行代码质量检查，以便提高的程序的健壮性。</p>
<p>通常来说，项目的质量决定了：</p>
<ul>
<li>软件项目的<strong>命运</strong></li>
<li>软件项目的<strong>可维护性</strong></li>
<li>软件项目的<strong>运维成本</strong></li>
<li>软件项目的<strong>扩展性</strong></li>
</ul>
<p><strong>为什么要进行代码质量检查？</strong></p>
<p>代码检查很重要，原因有三：</p>
<ol>
<li><strong>避免低级bug</strong>：一些常见代码问题，如果在编译或运行前不能及时发现，代码中的语法问题会直接导致编译或运行时错误，影响开发效率和代码质量；</li>
<li><strong>统一代码习惯</strong>：每一个团队或个人都会有一些代码规范或者代码习惯，为了便于后期维护和阅读，我们编写的代码也需要符合一定的格式规范；<ul>
<li>空格</li>
<li>统一缩进</li>
<li>命名规范</li>
<li>…</li>
</ul>
</li>
<li><strong>保证线上代码质量</strong>：在版本管理中，我们需要在提交或发布之前自动执行一些代码检查工作，确保我们的代码符合最终版本要求。</li>
</ol>
<p>如何让一个团队的人产出的代码都在一个基本水平底线之上呢？最初是靠制订规范。要确保规范得以执行只能靠人，所以文字规范成了code review的公共参照标准。<strong>单纯靠人的事最终都容易流于形式，所以需要工具加以保证。</strong>虽说工具并不能完全实现规范中的规则，但至少能够在一定程度上缓解代码不统一的局面。</p>
<p><strong>本课程的学习路径：</strong></p>
<ul>
<li>Why</li>
<li>What</li>
<li>How</li>
</ul>
<p><strong>本课程的主要内容：</strong></p>
<p>代码质量监测包括：代码规范（代码编写层面）、功能实现（测试层面）、Code Review（团队协作层面）。</p>
<p>本课程，代码规范作为展开，以eslint为例子；代码质量中的功能实现，以e2e test为例子。</p>
<p>关于，功能实现中的单元测试，5-3课程中有具体的框架使用及介绍。</p>
<ul>
<li>代码Lint——告别低级代码错误，简单的配置让程序来自动检查</li>
<li>e2e test——了解什么是黑盒测试，如何进行e2e test，即End to End Test，端到端的测试。</li>
<li>开源测试平台：Codecov介绍——配合Ci工具，让测试过程自动化，大大提升效率</li>
</ul>
<p><img src="https://note-1259153703.cos.ap-nanjing.myqcloud.com/images/20211120143528.png" alt="img"></p>
<p>这些徽章都是可以点击的，第一个点进去是 <a target="_blank" rel="noopener" href="https://travis-ci.org/%EF%BC%8Ctravis-ci">https://travis-ci.org/，travis-ci</a> 是一个 CI（Continuous integration，持续集成） 平台，主要提供集群编译、单测、集成测试的环境。<code>.org</code> 的服务对公有仓库免费，<code>.com</code> 面向私人、团队、公司的项目提供商业支持（收费）。使用起来非常简单，使用 Github 帐号登录进去，就能看见开始界面。</p>
<p>第二个徽章是 <a target="_blank" rel="noopener" href="https://codecov.io/">codecov.io</a>（单测覆盖率统计平台），接入过程也很简单，也是不同语言选择不同的<a target="_blank" rel="noopener" href="https://docs.codecov.io/docs/supported-languages">配置文件</a>，codecov 可以无缝衔接 travis-ci，只需要在原来的配置文件上稍作修改即可，核心就是生成单测的结果文件。\</p>
<p><strong>本课程的学习准备：</strong></p>
<ul>
<li>IDE vscode，node &gt; 10.15</li>
<li>包管理工具：yarn, cnpm</li>
<li>Github账号</li>
</ul>
<h2 id="代码质量检查"><a href="#代码质量检查" class="headerlink" title="代码质量检查"></a>代码质量检查</h2><h3 id="前端代码中的常见问题-Why-Lint"><a href="#前端代码中的常见问题-Why-Lint" class="headerlink" title="前端代码中的常见问题(Why Lint)"></a>前端代码中的常见问题(Why Lint)</h3><h4 id="书写风格"><a href="#书写风格" class="headerlink" title="书写风格"></a>书写风格</h4><p>这个问题不用作过多阐述，想必接手过他人代码的同学，多少都有些体会。简单来说，太过随意的代码会让强迫症患者难以容忍，难以阅读理解的代码有时甚至不如推倒重来。</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">var</span> once</span><br><span class="line">  , upon</span><br><span class="line">  , aTime;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">var</span> once,</span><br><span class="line">    upon,</span><br><span class="line">    aTime;</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">var</span> hero = &#123;</span><br><span class="line">    <span class="attr">firstName</span>: <span class="string">&#x27;Bob&#x27;</span></span><br><span class="line">  , <span class="attr">lastName</span>: <span class="string">&#x27;Parr&#x27;</span></span><br><span class="line">  , <span class="attr">heroName</span>: <span class="string">&#x27;Mr. Incredible&#x27;</span></span><br><span class="line">  , <span class="attr">superPower</span>: <span class="string">&#x27;strength&#x27;</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">var</span> hero = &#123;</span><br><span class="line">  <span class="attr">firstName</span>: <span class="string">&#x27;Bob&#x27;</span>,</span><br><span class="line">  <span class="attr">lastName</span>: <span class="string">&#x27;Parr&#x27;</span>,</span><br><span class="line">  <span class="attr">heroName</span>: <span class="string">&#x27;Mr. Incredible&#x27;</span>,</span><br><span class="line">  <span class="attr">superPower</span>: <span class="string">&#x27;strength&#x27;</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>



<h4 id="代码规范"><a href="#代码规范" class="headerlink" title="代码规范"></a>代码规范</h4><p>什么样的代码是低质量或高质量的？好的代码可能会让你如读小说一般被吸引，糟糕的代码会让你看一眼就不想继续、甚至看半天而不知所云。</p>
<p>有人可能认为初级程序员才会有这种问题，其实不然，一些工作经验两三年的同学写的代码依然如此。对于一些个人自学意识不够积极、没有团队规范性指引的同学，很容易习惯成“学习半年、然后重复三年无长进”的情况。</p>
<p>Lint会通过源代码去查找：</p>
<ul>
<li><p>格式问题</p>
</li>
<li><p>不遵守编码标准和惯例</p>
</li>
<li><p>精确定位程序中可能存在的逻辑错误</p>
</li>
</ul>
<h4 id="高度耦合"><a href="#高度耦合" class="headerlink" title="高度耦合"></a>高度耦合</h4><p>这种问题其实是非常普遍的。一个函数几百行、一个文件数千行、一个类几十个方法、方法参数定义随意、没有任何注释、方法与变量命名无明确的语义、数据修改与变更穿插在各种方法中等等。 这样的编码方式，你要去理解它的逻辑往往真的很难，一般只能一块块一行行的去做阅读理解（可能还会开启边看边骂娘模式）。</p>
<p>这主要原因在于开发者个人的基础知识能力、编码经验和意识等的不足。</p>
<p>其实针对这种情况，常见的开源的编码规范都会有所提及。我的建议是这些同学应该好好温习一下面向对象编程、函数式编程、数据结构、常见设计模式，看一看各种开源的编码规范并尝试去真正的理解它们。当你回顾一个月前的代码时，发现可以改进或重构使得编码逻辑更为简洁清晰，说明你是在成长与进步的。</p>
<p>经常看到有同学问这类问题：新项目正在选型，Vue.js、React、Angular 三大框架哪个合适？其实团队开发成员对这些都比较有经验，哪种都可以；如果团队成员前端开发经验大都不是太丰富或人员不够稳定，选择 Vue.js 最适合，为什么？因为它更简单简洁，容易上手。Vue.js 通过 prop、data、computed、method、watch 等各种钩子，一定程度上限定了编码方式与风格，使得初级开发者写出来的代码也不会太难看，这也是它越来越受社区推崇的原因之一。</p>
<h3 id="代码质量监测（Def-Lint-Code）"><a href="#代码质量监测（Def-Lint-Code）" class="headerlink" title="代码质量监测（Def: Lint Code）"></a>代码质量监测（Def: Lint Code）</h3><p>那么，什么是代码质量监测？</p>
<p>Lint或者Linter是一种分析源代码以标记编程过程中（代码、样式、构建）书写的错误的工具或者过程。</p>
<blockquote>
<p><strong>Lint</strong>, or a <strong>linter</strong>, is a tool that analyzes <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Source_code">source code</a> to flag programming errors, <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Software_bug">bugs</a>, stylistic errors, and suspicious constructs.[<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Lint_(software)#cite_note-1">1]</a> The term originates from a <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Unix">Unix</a> <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/List_of_utility_software">utility</a> that examined <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/C_(programming_language)">C language</a> source code.[<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Lint_(software)#cite_note-BellLabs-2">2]</a></p>
</blockquote>
<p>代码Lint是动态的监测代码编写的错误，以便我们能写出高质量的代码。</p>
<blockquote>
<p>与Prettier或者Format要区别开来，Lint只会告诉你代码中的错误或者不符合规范的地方，而Format是用来对格式进行调整的。</p>
</blockquote>
<h3 id="如何进行代码质量监测-How-to-Lint"><a href="#如何进行代码质量监测-How-to-Lint" class="headerlink" title="如何进行代码质量监测(How to Lint)"></a>如何进行代码质量监测(How to Lint)</h3><p>为了统一团队的代码规范，除了一纸规范说明之外，还需要引入工具进行限制。虽说工具并不能完全实现规范中的规则，但至少能够在一定程度上缓解代码不统一的局面。</p>
<p>相对于后端，前端代码规范的质量检查涉及到HTML, CSS，Javascript ，如今还涉及到SCSS，ES5，JSX,  React，Vue，Angular等。</p>
<p>常见的代码质量Lint工具：</p>
<p>HTML / tpl:  <a target="_blank" rel="noopener" href="http://htmlhint.com/">HTMLHint</a></p>
<p>CSS / SCSS: <a target="_blank" rel="noopener" href="https://stylelint.io/">StyleLint</a></p>
<p>JS / JSX: <a target="_blank" rel="noopener" href="https://eslint.org/">ESLint</a></p>
<h3 id="3种常见的Js检验工具比较"><a href="#3种常见的Js检验工具比较" class="headerlink" title="3种常见的Js检验工具比较"></a>3种常见的Js检验工具比较</h3><p>常见三个可以使用的js校验器，但是怎么选择使用哪一个呢？接下来让我们看看这四种流行方案的特点、优点和不足：<a target="_blank" rel="noopener" href="http://www.jslint.com/">JSLint</a>、<a target="_blank" rel="noopener" href="http://jshint.com/">JSHint</a>、<a target="_blank" rel="noopener" href="http://eslint.org/">ESLint</a>。</p>
<p>四种工具用相同的基本方式工作。他们都有一套用户分析、报告js文件错误的规则。他们都可以通过npm安装。他们都可以通过命令行使用、作为IDE插件使用、也可以集成到编辑器中。他们四种均支持使用注释进行配置。</p>
<h4 id="JSLint"><a href="#JSLint" class="headerlink" title="JSLint"></a>JSLint</h4><p>JSLint是其中最老的工具。在2002年 Douglas Crockford开发了该工具，根据其经验，强制使用js语言中精粹的部分。如果你同意这些精粹，JSLint能成为一个好的工具。</p>
<p>JSLint的缺点是不能配置和拓展。你根本不能禁掉需要特性，并且很多缺少文档。官方文档非常不友好，例如缺少如何将其集成到编辑的信息。</p>
<p><strong>优点</strong></p>
<ul>
<li>参数配置完成，可以直接使用</li>
</ul>
<p><strong>缺点</strong></p>
<ul>
<li>JSLint不存在配置文件，如果想改变参数设置，那就存在问题</li>
<li>有限的配置选项，许多规则不能禁掉</li>
<li>不能增加个性化规则</li>
<li>没有文档记录规则</li>
<li>很难弄清楚哪个规则引起的错误</li>
</ul>
<h4 id="JSHint"><a href="#JSHint" class="headerlink" title="JSHint"></a>JSHint</h4><p>作为一个可配置的JSLint版本，JSHint被开发出来。你可以配置每个规则，将其放到一个配置文件中，这样在大项目中可以容易使用。JSHint对每个规则有好的文档，所以可以准确知道每个规则的作用。将其集成到编辑器也是简单的。</p>
<p>JSHint的一个小缺点是里面的松散默认配置。也即是你在使其可用之前必须将其启动。和ESLint相比，确定哪个规则用户开启或关闭错误信息，JSHint是更加困难。</p>
<p><strong>优点</strong></p>
<ul>
<li>大多是参数可以配置</li>
<li>支持配置文件，在大项目中容易使用</li>
<li>已经支持需要类库，像jQuery、QUnit、NodeJS、Mocha等</li>
<li>支持基本的ES6</li>
</ul>
<p><strong>缺点</strong></p>
<ul>
<li>难于知道哪个规则产生错误</li>
<li>存在两类选项：强制选项和松散选项。使得配置有些混乱</li>
<li>不支持自定义规则</li>
</ul>
<h4 id="ESLint"><a href="#ESLint" class="headerlink" title="ESLint"></a>ESLint</h4><p>ESLint是比较新出来的工具。它被设计的容易拓展、拥有大量的自定义规则、容易的通过插件来安装。它给出准确的输出，而且包括规则名，这样可以知道哪个规则造成了错误。</p>
<p>ESLint文档多少有些混乱。规则容易查找，以及被分为逻辑组，但是配置指南在有些地方容易弄混。然而它可以在一个地方提供链接去编辑集成、插件和样例。</p>
<p><strong>优点</strong></p>
<ul>
<li>灵活：任何规则都可以开启闭合，以及有些规则有些额外配置</li>
<li>很容易拓展和有需要可用插件</li>
<li>容易理解产出</li>
<li>包含了在其他检查器中不可用的规则，使得ESLint在错误检查上更有用</li>
<li>支持ES6，支持JSX的工具</li>
<li>支持自定义报告</li>
</ul>
<p><strong>缺点</strong></p>
<ul>
<li>需要一些配置</li>
<li>速度慢</li>
</ul>
<blockquote>
<p><a target="_blank" rel="noopener" href="http://jscs.info/">JSCS</a>已经合并到ESlint</p>
</blockquote>
<p>总结一下：</p>
<table>
<thead>
<tr>
<th>分类</th>
<th>JSLint</th>
<th>JSHint</th>
<th>ESLint</th>
</tr>
</thead>
<tbody><tr>
<td>初始配置</td>
<td>有</td>
<td>有</td>
<td>可配置</td>
</tr>
<tr>
<td>自定义</td>
<td>命令行，有限</td>
<td>可配置</td>
<td>可配置</td>
</tr>
<tr>
<td>配置文件</td>
<td>否</td>
<td>是</td>
<td>是</td>
</tr>
<tr>
<td>ES6</td>
<td>是</td>
<td>是</td>
<td>是</td>
</tr>
<tr>
<td>JSX</td>
<td>否</td>
<td>是</td>
<td>是</td>
</tr>
<tr>
<td>执行效率</td>
<td>高</td>
<td>中</td>
<td>低</td>
</tr>
<tr>
<td>输出友好度</td>
<td>低</td>
<td>中</td>
<td>高</td>
</tr>
<tr>
<td>Stars</td>
<td>3.3k</td>
<td>8.2k</td>
<td>14.2k</td>
</tr>
</tbody></table>
<h2 id="Lint工具介绍"><a href="#Lint工具介绍" class="headerlink" title="Lint工具介绍"></a>Lint工具介绍</h2><p>Lint是一种工具，可以分析源代码，并在出现错误或与团队编码约定不符时通知用户。在某些情况下，它还可以自动修复错误。</p>
<p>虽然已经为不同语言开发了许多种Lint，但是有些人可能遇到过以下问题。</p>
<ul>
<li><p>这是我第一次使用这种语言进行编码，什么被认为是这种语言的一般编码风格？</p>
</li>
<li><p>我正在使用Lint的默认设置，但错误验证过程太严格。</p>
<p>我想更改设置，但是更改设置会更容易忽略某些错误吗？</p>
</li>
</ul>
<p>即使对于单一语言，也提出了各种编码约定。因此，特别是首先，确定哪些编码约定更好地遵循可能是困难的。</p>
<p>因此，让我们研究一下常用的开源软件上的Lint设置，看看正在使用哪种设置和编码约定。</p>
<h3 id="ESLint-1"><a href="#ESLint-1" class="headerlink" title="ESLint"></a>ESLint</h3><p>ESLint是JavaScript的linting实用程序。</p>
<p>ESLint不依赖于特定的编码约定，用户也可以自由地启用或禁用各个编码约定。从这个意义上讲，它的一个主要特点是其高度可定制性。</p>
<p>用户可以通过定义原始<a target="_blank" rel="noopener" href="https://eslint.org/docs/rules/">规则来</a>灵活地设置编码标准，这些规则是ESLint中默认可用的编码规则。此外，第三方共享的着名编码约定，例如“Google JavaScript Style Guide”或“Airbnb JavaScript Style Guide”也可以重复使用。</p>
<p>您甚至可以在遵循这些编码约定的同时启用/禁用特定文件的特定规则。</p>
<p>如果您不知道要开始的设置，可以参考ESLint官方提供的“ <a target="_blank" rel="noopener" href="https://eslint.org/docs/user-guide/getting-started">入门</a> ”指南，以使用建议的编码约定。</p>
<p>核心概念：</p>
<ul>
<li><p>配置文件：</p>
<p><code>.eslintrc</code>，<code>.eslintrc.js</code>，<code>.eslintrc.yml</code></p>
</li>
<li><p>Rules：</p>
<ul>
<li>“off” 或 <code>0</code> - 关闭规则</li>
<li>“warn” 或 <code>1</code> - 开启规则，使用警告级别的错误：warn (不会导致程序退出)</li>
<li>“error” 或 <code>2</code> - 开启规则，使用错误级别的错误：error (当被触发的时候，程序会退出)</li>
</ul>
<p>看一个例子：</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;rules&quot;</span>: &#123;</span><br><span class="line">        <span class="attr">&quot;semi&quot;</span>: [<span class="string">&quot;error&quot;</span>, <span class="string">&quot;never&quot;</span>],</span><br><span class="line">        <span class="attr">&quot;quotes&quot;</span>: [<span class="string">&quot;error&quot;</span>, <span class="string">&quot;single&quot;</span>]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>也可以写成：</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;rules&quot;</span>: &#123;</span><br><span class="line">        <span class="attr">&quot;semi&quot;</span>: [<span class="number">2</span>, <span class="string">&quot;never&quot;</span>],</span><br><span class="line">        <span class="attr">&quot;quotes&quot;</span>: [<span class="number">2</span>, <span class="string">&quot;single&quot;</span>]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>Extends：</p>
<p>使用别人提供的包， 如google</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123; </span><br><span class="line">    <span class="attr">&quot;extends&quot;</span>：<span class="attr">&quot;google&quot;</span>，</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>通过使用上述说明，用户可以轻松使用Google JavaScript样式指南中的编码约定，而无需从头开始编写设置。</p>
</li>
<li><p>Plugins:</p>
<p>ESLint提供的默认规则涵盖了基本规则，但JavaScript可以使用的范围非常广泛。因此，您可能希望规则不在默认规则中。在这种情况下，可以在ESLint中开发自己的独立规则。为了让第三方开发自己的规则，ESLint允许使用<a target="_blank" rel="noopener" href="https://eslint.org/docs/developer-guide/working-with-plugins">插件</a>。如果你在npm中搜索eslint-plugin- *，你可以找到第三方提供的大量自定义插件。</p>
<p>如果ESLint的默认规则未提供您要使用的规则，则建议您查找插件。</p>
<p>与可共享配置类似，它很容易设置。例如，如果要对React代码执行静态分析，可以安装名为<a target="_blank" rel="noopener" href="https://www.npmjs.com/package/eslint-plugin-react">eslint-plugin-react的插件</a>，并使用以下设置来执行React语法特有的静态分析。</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123; </span><br><span class="line">    <span class="attr">&quot;extends&quot;</span>: <span class="string">&quot;google&quot;</span>，</span><br><span class="line">    <span class="string">&quot;plugins&quot;</span>: [ </span><br><span class="line">        <span class="string">&quot;react&quot;</span> </span><br><span class="line">    ]，</span><br><span class="line">    <span class="string">&quot;rules&quot;</span><span class="string">&quot;: &#123; </span></span><br><span class="line"><span class="string">        &quot;</span>semi<span class="string">&quot;: [&quot;</span>error<span class="string">&quot;, &quot;</span>never<span class="string">&quot;],</span></span><br><span class="line"><span class="string">        &quot;</span>quotes<span class="string">&quot;: [&quot;</span>error<span class="string">&quot;, &quot;</span>single<span class="string">&quot;]</span></span><br><span class="line"><span class="string">    &#125; </span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="起步与安装"><a href="#起步与安装" class="headerlink" title="起步与安装"></a>起步与安装</h4><ol>
<li><p>在项目中去使用</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="comment">// npm init 指令会在项目根目录下生成 package.json 文件。</span></span><br><span class="line">npm init</span><br><span class="line"></span><br><span class="line"><span class="comment">// --save-dev 会把 eslint 安装到 package.json 文件中的 devDependencies 属性中，意思是只是开发阶段用到这个包，上线时就不需要这个包了。</span></span><br><span class="line">npm install eslint --save-dev</span><br></pre></td></tr></table></figure>

<ul>
<li>使用<code>npm run</code></li>
</ul>
<p>新增<code>package.json</code> 脚本，或者使用 <code>npx</code>命令</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="string">&quot;scripts&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;lint&quot;</span>: <span class="string">&quot;eslint src&quot;</span>,</span><br><span class="line">    <span class="string">&quot;lint:create&quot;</span>: <span class="string">&quot;eslint --init&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>然后使用<code>run</code>命令：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm run lint</span><br></pre></td></tr></table></figure>

<ul>
<li>直接使用<code>npx</code>命令：</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npx eslint --init</span><br><span class="line"></span><br><span class="line">// 或者</span><br><span class="line">./node_modules/.bin/eslint --init</span><br></pre></td></tr></table></figure></li>
<li><p>在全局使用</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm install -g eslint</span><br></pre></td></tr></table></figure></li>
</ol>
<h4 id="ESLint初始化"><a href="#ESLint初始化" class="headerlink" title="ESLint初始化"></a>ESLint初始化</h4><p>配置方法使用 <code>eslint --init</code>方法</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">➜ npx eslint --init</span><br><span class="line">? How would you like to use ESLint? (Use arrow keys)</span><br><span class="line">  To check syntax only </span><br><span class="line">❯ To check syntax and find problems </span><br><span class="line">  To check syntax, find problems, and enforce code style </span><br><span class="line">  </span><br><span class="line">? What <span class="built_in">type</span> of modules does your project use? (Use arrow keys)</span><br><span class="line">❯ JavaScript modules (import/<span class="built_in">export</span>) </span><br><span class="line">  CommonJS (require/exports) </span><br><span class="line">  None of these </span><br><span class="line">  </span><br><span class="line">// 这里可以针对你的开发项目进行配置</span><br><span class="line">? Which framework does your project use? </span><br><span class="line">  React </span><br><span class="line">  Vue.js </span><br><span class="line">❯ None of these </span><br><span class="line"></span><br><span class="line">// 可以配置代码运行的地方，是浏览器还是Node环境？</span><br><span class="line">? Where does your code run? </span><br><span class="line">❯◉ Browser</span><br><span class="line"> ◉ Node</span><br><span class="line"> </span><br><span class="line">// 最张在哪里缓存</span><br><span class="line">? What format <span class="keyword">do</span> you want your config file to be <span class="keyword">in</span>? (Use arrow keys)</span><br><span class="line">❯ JavaScript </span><br><span class="line">  YAML </span><br><span class="line">  JSON </span><br><span class="line"></span><br><span class="line">// 成功创建了配置文件</span><br><span class="line">? What format <span class="keyword">do</span> you want your config file to be <span class="keyword">in</span>? JavaScript</span><br><span class="line">Successfully created .eslintrc.js file <span class="keyword">in</span> /Users/itheima/Downloads/Demo</span><br></pre></td></tr></table></figure>

<p>配置文件<code>.eslintrc.js</code>：</p>
<blockquote>
<p>废弃的用法：<code>.eslintrc</code>，eslint使用配置的顺序：<code>.eslintrc.js</code> &gt; <code>.eslintrc.yaml</code> &gt; <code>.eslintrc.yml</code> &gt; <code>.eslintrc.json</code> &gt; <code>.eslintrc</code> &gt; <code>package.json</code></p>
</blockquote>
<p><code>.eslintrc.js</code>文件：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    <span class="string">&quot;env&quot;</span>: &#123;</span><br><span class="line">        <span class="string">&quot;browser&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="string">&quot;es6&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="string">&quot;node&quot;</span>: <span class="literal">true</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="string">&quot;extends&quot;</span>: <span class="string">&quot;eslint:recommended&quot;</span>,</span><br><span class="line">    <span class="string">&quot;globals&quot;</span>: &#123;</span><br><span class="line">        <span class="string">&quot;Atomics&quot;</span>: <span class="string">&quot;readonly&quot;</span>,</span><br><span class="line">        <span class="string">&quot;SharedArrayBuffer&quot;</span>: <span class="string">&quot;readonly&quot;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="string">&quot;parserOptions&quot;</span>: &#123;</span><br><span class="line">        <span class="string">&quot;ecmaVersion&quot;</span>: <span class="number">2018</span>,</span><br><span class="line">        <span class="string">&quot;sourceType&quot;</span>: <span class="string">&quot;module&quot;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="string">&quot;rules&quot;</span>: &#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>再来看看，<code>yaml</code>文件配置：</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">env:</span></span><br><span class="line">  <span class="attr">browser:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">es6:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">node:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">extends:</span> <span class="string">&#x27;eslint:recommended&#x27;</span></span><br><span class="line"><span class="attr">globals:</span></span><br><span class="line">  <span class="attr">Atomics:</span> <span class="string">readonly</span></span><br><span class="line">  <span class="attr">SharedArrayBuffer:</span> <span class="string">readonly</span></span><br><span class="line"><span class="attr">parserOptions:</span></span><br><span class="line">  <span class="attr">ecmaVersion:</span> <span class="number">2018</span></span><br><span class="line">  <span class="attr">sourceType:</span> <span class="string">module</span></span><br><span class="line"><span class="attr">rules:</span> &#123;&#125;</span><br></pre></td></tr></table></figure>



<p>该文件导出一个对象，对象包含属性 <code>env</code>、<code>extends</code>、<code>parserOptions</code>、<code>plugins</code>、<code>rules</code> 五个属性：</p>
<ul>
<li><p><code>env</code>：指定脚本的运行环境。每种环境都有一组特定的预定义全局变量，（如：nodejs，browser，commonjs等）中。</p>
</li>
<li><p><code>parserOptions</code>：用于指定想要支持的JavaScript语言选项</p>
<ul>
<li><p><code>ecmaVersion</code> - 默认设置为3，5（默认）， 你可以使用 6、7、8 或 9 来指定你想要使用的 ECMAScript 版本。你也可以用使用年份命名的版本号指定为 2015（同 6），2016（同 7），或 2017（同 8）或 2018（同 9）</p>
</li>
<li><p><code>sourceType</code> - 设置为 <code>&quot;script&quot;</code> (默认) 或 <code>&quot;module&quot;</code>（如果你的代码是 ECMAScript 模块)。</p>
</li>
<li><p>ecmaFeatures</p>
</li>
<li><p>这是个对象，表示你想使用的额外的语言特性:</p>
<ul>
<li><code>globalReturn</code> - 允许在全局作用域下使用 <code>return</code> 语句</li>
<li><code>impliedStrict</code> - 启用全局 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Strict_mode">strict mode</a> (如果 <code>ecmaVersion</code> 是 5 或更高)</li>
<li><code>jsx</code> - 启用 <a target="_blank" rel="noopener" href="http://facebook.github.io/jsx/">JSX</a></li>
</ul>
</li>
</ul>
</li>
<li><p><code>globals</code>：执行代码时脚步需要访问的额外全局变量。</p>
</li>
<li><p><code>rules</code>：开启某些规则，也可以设置规则的等级。</p>
</li>
<li><p><code>extends</code>: 对默认规则进行扩展，可以使用<code>Airbnb</code>，或者<code>Standard</code>规则。</p>
</li>
</ul>
<h4 id="eslintignore"><a href="#eslintignore" class="headerlink" title=".eslintignore"></a>.eslintignore</h4><p>可以在项目根目录创建，告诉ESLint忽略某些文件或者目录。相当于.gitignore都是纯文本文件。<br>例如</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">`# 注释，忽略文件node_modules**/.jsbuild`</span><br></pre></td></tr></table></figure>

<p>常见的eslintignore内容：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">node_modules/*</span><br><span class="line">**/node_modules/*</span><br><span class="line">dist/*</span><br><span class="line">/build/**</span><br><span class="line">/coverage/**</span><br><span class="line">/docs/**</span><br><span class="line">/jsdoc/**</span><br><span class="line">/templates/**</span><br><span class="line">/tests/bench/**</span><br><span class="line">/tests/fixtures/**</span><br><span class="line">/tests/performance/**</span><br><span class="line">/tmp/**</span><br><span class="line">/lib/rules/utils/unicode/is-combining-character.js</span><br><span class="line">test.js</span><br><span class="line">!.eslintrc.js</span><br></pre></td></tr></table></figure>



<h4 id="ESLint的使用方法"><a href="#ESLint的使用方法" class="headerlink" title="ESLint的使用方法"></a>ESLint的使用方法</h4><ul>
<li><p>本地使用方法：</p>
<p>如果你想让 ESLint 成为你项目构建系统的一部分，我们建议在本地安装。你可以使用 npm：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ npm install eslint --save-dev</span><br></pre></td></tr></table></figure>

<p>紧接着你应该设置一个配置文件：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ ./node_modules/.bin/eslint --init</span><br></pre></td></tr></table></figure>

<p>之后，你可以在你项目根目录运行 ESLint：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ ./node_modules/.bin/eslint yourfile.js</span><br></pre></td></tr></table></figure>

<p>使用本地安装的 ESLint 时，你使用的任何插件或可分享的配置也都必须在本地安装。</p>
</li>
<li><p>全局使用</p>
<p>如果你想使 ESLint 适用于你所有的项目，我们建议你全局安装 ESLint。你可以使用 npm：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$ npm install -g eslint</span><br></pre></td></tr></table></figure>

<p>紧接着你应该设置一个配置文件：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$ eslint --init</span><br></pre></td></tr></table></figure>

<p>之后，你可以在任何文件或目录运行 ESLint：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$ eslint yourfile.js</span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="常用ESlint配置"><a href="#常用ESlint配置" class="headerlink" title="常用ESlint配置"></a>常用ESlint配置</h4><p>ESLint的规范：</p>
<p>Standard: <a target="_blank" rel="noopener" href="https://github.com/standard/eslint-config-standard">https://github.com/standard/eslint-config-standard</a></p>
<p>具体地址：<a target="_blank" rel="noopener" href="https://github.com/standard/eslint-config-standard/blob/master/eslintrc.json">eslintrc.json</a></p>
<p>Airbnb: <a target="_blank" rel="noopener" href="https://github.com/airbnb/javascript">https://github.com/airbnb/javascript</a></p>
<ol>
<li><p>comma逗号</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">rules: &#123;</span><br><span class="line">	<span class="string">&quot;comma-dangle&quot;</span>: [<span class="string">&quot;error&quot;</span>, <span class="string">&quot;never&quot;</span>],</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Bad:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> foo = &#123;</span><br><span class="line">	<span class="attr">a</span>: <span class="string">&#x27;123&#x27;</span>,</span><br><span class="line">	<span class="attr">b</span>: <span class="string">&#x27;321&#x27;</span>, <span class="comment">// wrong error</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Right:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> foo = &#123;</span><br><span class="line">	<span class="attr">a</span>: <span class="string">&#x27;123&#x27;</span>,</span><br><span class="line">	<span class="attr">b</span>: <span class="string">&#x27;321&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>quotes引号</p>
</li>
<li><p>semi分号</p>
</li>
<li><p>空行</p>
</li>
<li><p>驼峰命名</p>
</li>
<li><p>日志输出</p>
</li>
<li><p>强等判断</p>
</li>
<li><p>冗余的变量</p>
</li>
<li><p>空格</p>
<ul>
<li>关键字后的空格</li>
<li>函数名后的空格</li>
<li>缩进</li>
</ul>
</li>
</ol>
<h4 id="在IDE中的配置"><a href="#在IDE中的配置" class="headerlink" title="在IDE中的配置"></a>在IDE中的配置</h4><ul>
<li>以下是vscode中插件配置：</li>
</ul>
<p><img src="https://note-1259153703.cos.ap-nanjing.myqcloud.com/images/20211120143529.png" alt="image-20190626120020180"></p>
<p>配置文件：</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="string">&quot;eslint.alwaysShowStatus&quot;</span>: <span class="literal">true</span>,</span><br><span class="line"><span class="string">&quot;eslint.autoFixOnSave&quot;</span>: <span class="literal">true</span>,</span><br><span class="line"><span class="string">&quot;editor.formatOnSave&quot;</span>: <span class="literal">true</span>,</span><br><span class="line"><span class="string">&quot;eslint.validate&quot;</span>: [</span><br><span class="line">  <span class="string">&quot;javascriptreact&quot;</span>,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">&quot;language&quot;</span>: <span class="string">&quot;html&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;autoFix&quot;</span>: <span class="literal">true</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">&quot;language&quot;</span>: <span class="string">&quot;javascript&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;autoFix&quot;</span>: <span class="literal">true</span></span><br><span class="line">  &#125;</span><br><span class="line">],</span><br><span class="line"><span class="string">&quot;eslint.options&quot;</span>: &#123;</span><br><span class="line">  <span class="attr">&quot;plugins&quot;</span>: [<span class="string">&quot;html&quot;</span>]</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<p>快速修复配置：</p>
<p>打开 <code>&quot;editor.formatOnSave&quot;:  true</code>并且要打开<code>eslint.validate</code>如上面的配置，或者在UI界面里面设置。</p>
<p><img src="https://note-1259153703.cos.ap-nanjing.myqcloud.com/images/20211120143530.png" alt="image-20190627124410671"></p>
<ul>
<li>在Webstorm中的配置：</li>
</ul>
<p>使用Configure Preferences</p>
<p><img src="https://note-1259153703.cos.ap-nanjing.myqcloud.com/images/20211120143531.png" alt="image-20190626120415006"></p>
<p>相比于vscode就智能很多。</p>
<h4 id="实战vue项目配置"><a href="#实战vue项目配置" class="headerlink" title="实战vue项目配置"></a>实战vue项目配置</h4><p>ESlint配置文件：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="attr">root</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="attr">env</span>: &#123;</span><br><span class="line">    <span class="attr">node</span>: <span class="literal">true</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">extends</span>: [</span><br><span class="line">    <span class="string">&#x27;plugin:vue/essential&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;@vue/standard&#x27;</span>,</span><br><span class="line">  ],</span><br><span class="line">  <span class="attr">rules</span>: &#123;</span><br><span class="line">    <span class="string">&#x27;no-console&#x27;</span>: process.env.NODE_ENV === <span class="string">&#x27;production&#x27;</span> ? <span class="string">&#x27;error&#x27;</span> : <span class="string">&#x27;off&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;no-debugger&#x27;</span>: process.env.NODE_ENV === <span class="string">&#x27;production&#x27;</span> ? <span class="string">&#x27;error&#x27;</span> : <span class="string">&#x27;off&#x27;</span>,</span><br><span class="line">    <span class="attr">semi</span>: [<span class="string">&#x27;error&#x27;</span>, <span class="string">&#x27;never&#x27;</span>],</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">parserOptions</span>: &#123;</span><br><span class="line">    <span class="attr">parser</span>: <span class="string">&#x27;babel-eslint&#x27;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p>需要安装的VSCode插件：</p>
<ul>
<li>vue(高亮语法)</li>
<li>vetur(格式化，代码规范)</li>
<li>Vue peek(组件跳转)</li>
<li>vue beautify(vue格式化)</li>
<li>Vue VSCode Snippets 和 Vue Snippets(代码提示)</li>
<li>Prettier(格式化 与 上面的Vetur其实是合作格式化)</li>
</ul>
<p>vscode配置格式化：</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="string">&quot;eslint.validate&quot;</span>: [</span><br><span class="line">  <span class="string">&quot;javascript&quot;</span>,</span><br><span class="line">  <span class="string">&quot;javascriptreact&quot;</span>,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">&quot;language&quot;</span>: <span class="string">&quot;html&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;autoFix&quot;</span>: <span class="literal">true</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">&quot;language&quot;</span>: <span class="string">&quot;vue&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;autoFix&quot;</span>: <span class="literal">true</span></span><br><span class="line">  &#125;</span><br><span class="line">],</span><br><span class="line"><span class="string">&quot;vetur.format.defaultFormatter.js&quot;</span>: <span class="string">&quot;prettier-eslint&quot;</span>,</span><br><span class="line">  <span class="comment">// prettier</span></span><br><span class="line"><span class="string">&quot;prettier.trailingComma&quot;</span>: <span class="string">&quot;es5&quot;</span>,</span><br><span class="line"><span class="string">&quot;prettier.semi&quot;</span>: <span class="literal">false</span>,</span><br><span class="line"><span class="string">&quot;prettier.jsxSingleQuote&quot;</span>: <span class="literal">true</span>,</span><br><span class="line"><span class="string">&quot;prettier.singleQuote&quot;</span>: <span class="literal">true</span>,</span><br><span class="line"><span class="string">&quot;prettier.eslintIntegration&quot;</span>: <span class="literal">true</span>,</span><br></pre></td></tr></table></figure>

<p>配置emmet:</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="string">&quot;emmet.syntaxProfiles&quot;</span>: &#123;</span><br><span class="line">  <span class="attr">&quot;vue-html&quot;</span>: <span class="string">&quot;html&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;vue&quot;</span>: <span class="string">&quot;html&quot;</span></span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>



<p>在Vue-cli工具中，可以使用<code>npm run lint</code>:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">// bash输出</span><br><span class="line">➜ npm run lint</span><br><span class="line"></span><br><span class="line">&gt; vue-recipe@0.1.0 lint /Users/itheima/vue-demo</span><br><span class="line">&gt; vue-cli-service lint</span><br><span class="line"></span><br><span class="line"> DONE  No lint errors found!</span><br></pre></td></tr></table></figure>

<p>来执行vue cli配置好了的Lint脚本：</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="string">&quot;scripts&quot;</span>: &#123;</span><br><span class="line">  <span class="attr">&quot;serve&quot;</span>: <span class="string">&quot;vue-cli-service serve&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;build&quot;</span>: <span class="string">&quot;vue-cli-service build&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;lint&quot;</span>: <span class="string">&quot;vue-cli-service lint&quot;</span></span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<blockquote>
<p>vscode中插件推荐使用：</p>
<p>Vue, Vetur, Vue Peek, vue-beautify</p>
</blockquote>
<h4 id="实战react项目配置"><a href="#实战react项目配置" class="headerlink" title="实战react项目配置"></a>实战react项目配置</h4><p>使用<code>create-react-app</code>创建react项目：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npx create-react-app my-app</span><br><span class="line"></span><br><span class="line"><span class="built_in">cd</span> my-app</span><br><span class="line"></span><br><span class="line">npm start</span><br></pre></td></tr></table></figure>

<blockquote>
<p>如果<code>npx</code>命令没有，请全局安装<code>create-react-app</code>，使用<code>npm install -g create-react-app</code></p>
</blockquote>
<p>然后是安装eslint相关依赖：</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="string">&quot;devDependencies&quot;</span>: &#123;</span><br><span class="line">  <span class="attr">&quot;eslint&quot;</span>: <span class="string">&quot;^5.16.0&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;babel-eslint&quot;</span>: <span class="string">&quot;^10.0.2&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;eslint-plugin-html&quot;</span>: <span class="string">&quot;^6.0.0&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;eslint-plugin-react&quot;</span>: <span class="string">&quot;^7.14.2&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>配置eslint，或者使用<code>eslint --init</code>进行初始化：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    <span class="string">&quot;env&quot;</span>: &#123;</span><br><span class="line">        <span class="string">&quot;browser&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="string">&quot;commonjs&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="string">&quot;node&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="string">&quot;es6&quot;</span>: <span class="literal">true</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="string">&quot;extends&quot;</span>: [</span><br><span class="line">        <span class="string">&quot;eslint:recommended&quot;</span>,</span><br><span class="line">        <span class="string">&quot;plugin:react/recommended&quot;</span></span><br><span class="line">    ],</span><br><span class="line">    <span class="string">&quot;globals&quot;</span>: &#123;</span><br><span class="line">        <span class="string">&quot;Atomics&quot;</span>: <span class="string">&quot;readonly&quot;</span>,</span><br><span class="line">        <span class="string">&quot;SharedArrayBuffer&quot;</span>: <span class="string">&quot;readonly&quot;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="string">&quot;parserOptions&quot;</span>: &#123;</span><br><span class="line">        <span class="string">&quot;ecmaFeatures&quot;</span>: &#123;</span><br><span class="line">            <span class="string">&quot;jsx&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">            <span class="string">&quot;arrowFunctions&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">            <span class="string">&quot;classes&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">            <span class="string">&quot;modules&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">            <span class="string">&quot;defaultParams&quot;</span>: <span class="literal">true</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="string">&quot;ecmaVersion&quot;</span>: <span class="number">2018</span>,</span><br><span class="line">        <span class="string">&quot;sourceType&quot;</span>: <span class="string">&quot;module&quot;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="string">&quot;plugins&quot;</span>: [</span><br><span class="line">        <span class="string">&quot;react&quot;</span></span><br><span class="line">    ],</span><br><span class="line">    <span class="string">&quot;rules&quot;</span>: &#123;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="string">&quot;settings&quot;</span>: &#123;</span><br><span class="line">        <span class="string">&quot;react&quot;</span>: &#123;</span><br><span class="line">            <span class="string">&quot;pragma&quot;</span>: <span class="string">&quot;React&quot;</span>,</span><br><span class="line">            <span class="string">&quot;version&quot;</span>: <span class="string">&quot;latest&quot;</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>几点配置需要注意：</p>
<ul>
<li>安装插件：<code>eslint-plugin-react</code></li>
<li>配置<code>extends</code>: <code>&quot;plugin:react/recommended&quot;</code></li>
<li>配置<code>settings</code></li>
</ul>
<p>配置Airbnb：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm --save-dev install eslint-config-airbnb eslint-plugin-import eslint-plugin-jsx-a11y babel-eslint</span><br></pre></td></tr></table></figure>

<p>有三个依赖：</p>
<ul>
<li>eslint-config-airbnb</li>
<li>eslint-plugin-import</li>
<li>eslint-plugin-jsx-a11y</li>
<li>Babel-eslint</li>
</ul>
<p>修改项目配置：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    <span class="string">&quot;env&quot;</span>: &#123;</span><br><span class="line">        <span class="string">&quot;browser&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="string">&quot;commonjs&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="string">&quot;node&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="string">&quot;es6&quot;</span>: <span class="literal">true</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// 这里有变化 </span></span><br><span class="line">    <span class="string">&quot;extends&quot;</span>: [</span><br><span class="line">        <span class="string">&quot;eslint:recommended&quot;</span>,</span><br><span class="line">        <span class="string">&quot;plugin:react/recommended&quot;</span>,</span><br><span class="line">        <span class="string">&quot;plugin:import/errors&quot;</span>,</span><br><span class="line">        <span class="string">&quot;plugin:jsx-a11y/recommended&quot;</span>,</span><br><span class="line">        <span class="string">&quot;airbnb&quot;</span></span><br><span class="line">    ],</span><br><span class="line">    <span class="string">&quot;globals&quot;</span>: &#123;</span><br><span class="line">        <span class="string">&quot;Atomics&quot;</span>: <span class="string">&quot;readonly&quot;</span>,</span><br><span class="line">        <span class="string">&quot;SharedArrayBuffer&quot;</span>: <span class="string">&quot;readonly&quot;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="string">&quot;parser&quot;</span>: <span class="string">&quot;babel-eslint&quot;</span>,</span><br><span class="line">    <span class="string">&quot;parserOptions&quot;</span>: &#123;</span><br><span class="line">        <span class="string">&quot;ecmaFeatures&quot;</span>: &#123;</span><br><span class="line">            <span class="string">&quot;jsx&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">            <span class="string">&quot;arrowFunctions&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">            <span class="string">&quot;classes&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">            <span class="string">&quot;modules&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">            <span class="string">&quot;defaultParams&quot;</span>: <span class="literal">true</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="string">&quot;ecmaVersion&quot;</span>: <span class="number">2018</span>,</span><br><span class="line">        <span class="string">&quot;sourceType&quot;</span>: <span class="string">&quot;module&quot;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// 这里有变化 </span></span><br><span class="line">    <span class="string">&quot;plugins&quot;</span>: [</span><br><span class="line">        <span class="string">&quot;react&quot;</span>,</span><br><span class="line">        <span class="string">&quot;jsx-a11y&quot;</span>,</span><br><span class="line">        <span class="string">&quot;import&quot;</span></span><br><span class="line">    ],</span><br><span class="line">    <span class="string">&quot;rules&quot;</span>: &#123;</span><br><span class="line">      <span class="comment">// 这里可以添加jsx-ally与import相关的自定义rules</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="string">&quot;settings&quot;</span>: &#123;</span><br><span class="line">        <span class="string">&quot;react&quot;</span>: &#123;</span><br><span class="line">            <span class="string">&quot;pragma&quot;</span>: <span class="string">&quot;React&quot;</span>,</span><br><span class="line">            <span class="string">&quot;version&quot;</span>: <span class="string">&quot;latest&quot;</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>



<h3 id="StyleLint"><a href="#StyleLint" class="headerlink" title="StyleLint"></a>StyleLint</h3><p>官网：<a target="_blank" rel="noopener" href="https://stylelint.io/">https://stylelint.io/</a></p>
<ul>
<li><p>安装依赖：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm install -D stylelint-config-recommended stylelint-config-standard</span><br><span class="line"></span><br><span class="line">// yarn </span><br><span class="line">yarn add stylelint-config-recommended stylelint-config-standard -D</span><br></pre></td></tr></table></figure></li>
<li><p>配置忽略</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// .stylelintignore   忽略stylelint检查的文件</span><br><span class="line">/src/**/*.css</span><br></pre></td></tr></table></figure></li>
<li><p><code>.stylelintrc.js</code>文件配置</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">module.exports = &#123;</span><br><span class="line">  <span class="attr">&quot;extends&quot;</span>: [<span class="string">&quot;stylelint-config-recommended&quot;</span>, <span class="string">&quot;stylelint-config-standard&quot;</span>],</span><br><span class="line">  <span class="attr">&quot;rules&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;indentation&quot;</span>: <span class="number">2</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>vscode配置</p>
<p>安装<code>Prettier</code> + <code>stylelint</code>插件，方便格式化代码。</p>
<p><img src="https://note-1259153703.cos.ap-nanjing.myqcloud.com/images/20211120143532.png" alt="image-20190628004127626"></p>
<p>配置文件：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&quot;[scss]&quot;: &#123;</span><br><span class="line">  &quot;editor.formatOnSave&quot;: true</span><br><span class="line">&#125;,</span><br><span class="line">// 打开scss的validate配置</span><br><span class="line">&quot;scss.validate&quot;: true,</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="HTMLHint"><a href="#HTMLHint" class="headerlink" title="HTMLHint"></a>HTMLHint</h3><p>官网：<a target="_blank" rel="noopener" href="https://htmlhint.io/">https://htmlhint.io</a></p>
<p>github: <a target="_blank" rel="noopener" href="https://github.com/htmlhint/HTMLHint">https://github.com/htmlhint/HTMLHint</a></p>
<ul>
<li><p>安装依赖：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm install htmlhint --save-dev</span><br><span class="line"></span><br><span class="line">// yarn </span><br><span class="line">yarn add htmlhint -D</span><br></pre></td></tr></table></figure></li>
<li><p>配置忽略</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// .stylelintignore   忽略stylelint检查的文件</span><br><span class="line">/src/**/*.css</span><br></pre></td></tr></table></figure></li>
<li><p><code>.htmlhintrc</code>文件配置</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">标签名必须小写</span></span><br><span class="line"><span class="comment">属性名必须小写</span></span><br><span class="line"><span class="comment">属性值必须放在双引号中</span></span><br><span class="line"><span class="comment">属性值一定不可为空</span></span><br><span class="line"><span class="comment">属性值一定不可重复</span></span><br><span class="line"><span class="comment">Doctype必须是 HTML 文档的第一行</span></span><br><span class="line"><span class="comment">标签必须成对</span></span><br><span class="line"><span class="comment">标签必须自封闭</span></span><br><span class="line"><span class="comment">特殊字符必须</span></span><br><span class="line"><span class="comment">ID 属性必须唯一</span></span><br><span class="line"><span class="comment">src 属性一定不可为空</span></span><br><span class="line"><span class="comment">title 属性必须出现在标签中</span></span><br><span class="line"><span class="comment">img 标签必须包含 alt 属性</span></span><br><span class="line"><span class="comment">Doctype 必须是 HTML5</span></span><br><span class="line"><span class="comment">ID 和 Class 的命名规则必须统一</span></span><br><span class="line"><span class="comment">不该使用样式标签</span></span><br><span class="line"><span class="comment">不该使用行内样式</span></span><br><span class="line"><span class="comment">不该使用行内脚本</span></span><br><span class="line"><span class="comment">空格和制表符一定不可混合在行前</span></span><br><span class="line"><span class="comment">ID 和 Class 一定不可使用广告关键词</span></span><br><span class="line"><span class="comment">href 必须是绝对路径或者相对路径</span></span><br><span class="line"><span class="comment">属性值一定不可使用不安全字符</span></span><br><span class="line"><span class="comment">script 标签不该使用在头部</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;tagname-lowercase&quot;</span>: <span class="literal">true</span>, </span><br><span class="line">  <span class="attr">&quot;attr-lowercase&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="attr">&quot;attr-value-double-quotes&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="attr">&quot;attr-value-not-empty&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">  <span class="attr">&quot;attr-no-duplication&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="attr">&quot;doctype-first&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="attr">&quot;tag-pair&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="attr">&quot;empty-tag-not-self-closed&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="attr">&quot;spec-char-escape&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="attr">&quot;id-unique&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="attr">&quot;src-not-empty&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="attr">&quot;title-require&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="attr">&quot;alt-require&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="attr">&quot;doctype-html5&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="attr">&quot;id-class-value&quot;</span>: <span class="string">&quot;dash&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;style-disabled&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">  <span class="attr">&quot;inline-style-disabled&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">  <span class="attr">&quot;inline-script-disabled&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">  <span class="attr">&quot;space-tab-mixed-disabled&quot;</span>: <span class="string">&quot;space&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;id-class-ad-disabled&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">  <span class="attr">&quot;href-abs-or-rel&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">  <span class="attr">&quot;attr-unsafe-chars&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="attr">&quot;head-script-disabled&quot;</span>: <span class="literal">true</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>vscode配置</p>
<p>安装<code>Prettier</code>，<code>HTMLHint</code>插件，方便格式化代码。</p>
<p><img src="https://note-1259153703.cos.ap-nanjing.myqcloud.com/images/20211120143533.jpg" alt="image-20190628003752568"></p>
<p>用户配置文件：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&quot;[html]&quot;: &#123;</span><br><span class="line">  &quot;editor.defaultFormatter&quot;: &quot;esbenp.prettier-vscode&quot;</span><br><span class="line">&#125;,</span><br><span class="line">// 打开scss的validate配置</span><br><span class="line">&quot;files.associations&quot;: &#123;</span><br><span class="line">	&quot;*.ext&quot;: &quot;html&quot;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="e2e-test"><a href="#e2e-test" class="headerlink" title="e2e test"></a>e2e test</h2><p>通常对Web应用程序执行两种类型的测试：<strong>单元测试</strong>和<strong>端到端</strong>（E2E）测试。</p>
<p><strong>单元测试</strong></p>
<p>在测试中使用“单元”的想法是将代码分解为易于测试的小部件。通常，单元是单个函数，但也可以是类或甚至是复杂的算法。</p>
<p>单元测试的一个关键概念是函数的给定输入应始终产生相同的输出。</p>
<p>例如，如果我们有一个函数添加了两个调用的数字，<code>add</code>我们可以编写一个单元测试来确保我们作为参数提供的特定数字对总是返回我们期望的输出。</p>
<p><code>add.spec.js</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Function we want to test</span></span><br><span class="line"><span class="keyword">const</span> add = <span class="function">(<span class="params">x, y</span>) =&gt;</span> x + y;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Unit test</span></span><br><span class="line">test(<span class="string">&quot;should add two numbers&quot;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> result = add(<span class="number">2</span>, <span class="number">3</span>);</span><br><span class="line">  expect(result).toBe(<span class="number">5</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>任何时候我们运行该测试并且它不等于5，我们可以得出一个错误已经输入我们的代码。</p>
<p><strong>组件测试</strong></p>
<p>在大多数Vue.js应用程序中，函数并不真正代表应用程序的原子组成。当然，我们可以对我们的方法进行单元测试，但我们真正关心的是生成的HTML。</p>
<p>因此，Vue.js app测试中的单元是一个<em>组件</em>而不是一个函数。</p>
<p>我们如何测试组件？我们以此为例：</p>
<p><code>displayGreeting.js</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="attr">template</span>: <span class="string">`&lt;div&gt;Hello, &#123;&#123; name &#125;&#125;&lt;/div&gt;`</span>,</span><br><span class="line">  <span class="attr">props</span>: [<span class="string">&#x27;name&#x27;</span>]</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>如前所述，对于给定输入（在这种情况下，支柱），单元测试必须返回一致的输出（在这种情况下，文本内容）。</p>
<p>使用像Vue Test Utils这样的库，我们可以在内存中安装Vue组件并创建一个“包装器”对象。然后，我们可以查询包装器以对呈现的HTML进行断言。</p>
<p><code>displayGreeting.spec.js</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> displayGreeting <span class="keyword">from</span> <span class="string">&quot;./displayGreeting.js&quot;</span>;</span><br><span class="line"></span><br><span class="line">test(<span class="string">&quot;displays message&quot;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> name = <span class="string">&quot;Michael&quot;</span>;</span><br><span class="line">  <span class="keyword">const</span> wrapper = mount(displayGreeting, &#123; <span class="attr">propsData</span>: &#123; name &#125; &#125;);</span><br><span class="line">  expect(wrapper.text()).toBe(<span class="string">`Hello, <span class="subst">$&#123;name&#125;</span>`</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>



<p>单元测试优点：</p>
<ul>
<li>测试运行得很快</li>
<li>测试是精确的，允许您识别确切的问题</li>
</ul>
<p>单元测试缺点：</p>
<ul>
<li>为应用程序的每个方面编写测试都非常耗时</li>
<li>尽管单元测试通过，整个应用程序可能仍然无法正常工作</li>
</ul>
<h3 id="什么是e2e-test"><a href="#什么是e2e-test" class="headerlink" title="什么是e2e test?"></a>什么是e2e test?</h3><p>e2e test（End to End test端到端）测试是一种功能测试。与单元测试不同，不会将应用程序分解为更小的部分以进行测试 - 而是测试整个应用程序。</p>
<p>e2e测试与您的应用程序交互，就像真实用户一样。例如，您可以编写一个E2E测试：</p>
<ol>
<li>加载您的网站</li>
<li>点击“注册”链接</li>
<li>为注册表单中的输入提供一些有效的详细信息</li>
<li>单击“注册按钮”。</li>
</ol>
<p>如果身份验证令牌已存储在Cookie中并且应用程序重定向到配置文件页面，则应通过此测试。</p>
<p>E2E测试优点</p>
<ul>
<li>可以一次隐式测试很多东西</li>
<li>e2e测试可确保您拥有一个工作系统</li>
</ul>
<p>e2e测试缺点：</p>
<ul>
<li>运行缓慢 - 通常需要5或10分钟才能运行一个站点</li>
<li>测试很脆弱 - 一个无关紧要的变化，如改变组件逻辑，就需要重新设计e2e test了</li>
<li>测试无法查明失败的原因</li>
</ul>
<p>所以，主要的业务流程可能会写E2E，不过规模要小很多，主要目的是：</p>
<ul>
<li>便于给PM展示业务流程</li>
<li>便于修改Bug之后的回归</li>
</ul>
<h3 id="e2e-test工具介绍"><a href="#e2e-test工具介绍" class="headerlink" title="e2e test工具介绍"></a>e2e test工具介绍</h3><h4 id="Cypress"><a href="#Cypress" class="headerlink" title="Cypress"></a>Cypress</h4><ol>
<li><p>安装 &amp; 桌面应用</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm install cypress --save-dev</span><br></pre></td></tr></table></figure>

<p>或者直接下载桌面应用：</p>
<p><a target="_blank" rel="noopener" href="https://download.cypress.io/desktop">https://download.cypress.io/desktop</a></p>
</li>
<li><p>使用方式：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">./node_modules/.bin/cypress open</span><br><span class="line"></span><br><span class="line">// npx</span><br><span class="line">npx cypress open</span><br><span class="line"></span><br><span class="line">// yarn </span><br><span class="line">yarn run cypress open</span><br></pre></td></tr></table></figure>

<p>或者添加 <code>package.json</code>:</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;scripts&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;cypress:open&quot;</span>: <span class="string">&quot;cypress open&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>使用npm命令：<code>npm run cypress:open</code></p>
</li>
</ol>
<h4 id="Nightwatch"><a href="#Nightwatch" class="headerlink" title="Nightwatch"></a>Nightwatch</h4><h4 id="TeatCafe"><a href="#TeatCafe" class="headerlink" title="TeatCafe"></a>TeatCafe</h4><h3 id="e2e-test案例"><a href="#e2e-test案例" class="headerlink" title="e2e test案例"></a>e2e test案例</h3><h2 id="Codecov"><a href="#Codecov" class="headerlink" title="Codecov"></a>Codecov</h2><h3 id="Codecov简介"><a href="#Codecov简介" class="headerlink" title="Codecov简介"></a>Codecov简介</h3><h3 id="Codecov使用"><a href="#Codecov使用" class="headerlink" title="Codecov使用"></a>Codecov使用</h3><h3 id="前端项目中的应用"><a href="#前端项目中的应用" class="headerlink" title="前端项目中的应用"></a>前端项目中的应用</h3><h2 id="补充学习"><a href="#补充学习" class="headerlink" title="补充学习"></a>补充学习</h2><h3 id="补充资料"><a href="#补充资料" class="headerlink" title="补充资料"></a>补充资料</h3><h4 id="代码质量管控的四个阶段"><a href="#代码质量管控的四个阶段" class="headerlink" title="代码质量管控的四个阶段"></a><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/29086959">代码质量管控的四个阶段</a></h4><p><img src="https://note-1259153703.cos.ap-nanjing.myqcloud.com/images/20211120143534.png" alt="img"></p>
<p>我把代码质量管控通常需要经历的四个阶段，称之为“四个现代化”：</p>
<ul>
<li>规范化 - 建立代码规范与Code Review制度</li>
<li>自动化 - 使用工具自动检查代码质量</li>
<li>流程化 - 将代码质量检查与代码流动过程绑定</li>
<li>中心化 - 以团队整体为视角，集中管理代码规范，并实现质量状况透明化</li>
</ul>
<h4 id="软件测试的分类"><a href="#软件测试的分类" class="headerlink" title="软件测试的分类"></a>软件测试的分类</h4><p><strong>第一部分：软件测试的分类</strong></p>
<ul>
<li><p>按测试执行阶段划分</p>
<p>单元测试、集成测试、系统测试、验收测试（正式验收测试、Alpha测试、Beta测试）</p>
</li>
<li><p>按测试技术划分</p>
<p>白盒测试、黑盒测试、灰盒测试</p>
</li>
<li><p>被测试对象是否运行划分</p>
<p>动态测试、静态测试（文档检查、代码走查、界面检查）</p>
</li>
<li><p>按不同的测试手段划分</p>
<p>手工测试、自动化测试*</p>
</li>
<li><p>按测试包含的内容划分</p>
<p>功能测试、界面测试、安全测试、兼容性测试、易用性测试、性能测试、压力测试、负载测试、恢复测试</p>
</li>
<li><p>其他测试</p>
<p>冒烟测试、回归测试、探索性测试/自由测试（测试思维）</p>
</li>
</ul>
<p><strong>第二部分：接下来对软件测试分类进行一个说明</strong></p>
<p><img src="https://note-1259153703.cos.ap-nanjing.myqcloud.com/images/20211120143535.jpg" alt="img"><img src="https://note-1259153703.cos.ap-nanjing.myqcloud.com/images/20211120143535.jpg" alt="img"></p>
<p><img src="https://note-1259153703.cos.ap-nanjing.myqcloud.com/images/20211120143536.jpg" alt="img"><img src="https://note-1259153703.cos.ap-nanjing.myqcloud.com/images/20211120143537.png" alt="img"></p>
<p><strong>第三部分：测试工具</strong></p>
<p>SVN，Git——&gt;版本控制管理工具</p>
<p>禅道——&gt;Bug管理工具</p>
<p>Fiddler——&gt;抓包，定位问题你</p>
<p>postman，jmeter，soapui——&gt;接口测试</p>
<p>Loadrunner，Jmeter——&gt;性能，压力测试</p>
<h4 id="What-is-“Linting”"><a href="#What-is-“Linting”" class="headerlink" title="What is “Linting”?"></a><a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/8503559/what-is-linting">What is “Linting”?</a></h4><h4 id="React中的配置资料"><a href="#React中的配置资料" class="headerlink" title="React中的配置资料"></a>React中的配置资料</h4><p><a target="_blank" rel="noopener" href="https://medium.com/@sgroff04/configure-eslint-prettier-and-flow-in-vs-code-for-react-development-c9d95db07213">Configure ESLint, Prettier, and Flow in VS Code for React Development</a></p>
<p><a target="_blank" rel="noopener" href="https://note.sideci.com/how-the-react-developer-team-uses-eslint-2828564814da">React开发团队如何使用ESLint</a></p>
<h3 id="完整的ESLint文件配置属性的解释"><a href="#完整的ESLint文件配置属性的解释" class="headerlink" title="完整的ESLint文件配置属性的解释"></a>完整的ESLint文件配置属性的解释</h3><figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * ESLint的JSON文件是允许JavaScript注释的，但在gist里显示效果不好，所以我把.json文件后缀改为了.js</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * ESLint 配置文件优先级：</span></span><br><span class="line"><span class="comment"> * .eslintrc.js(输出一个配置对象)</span></span><br><span class="line"><span class="comment"> * .eslintrc.yaml</span></span><br><span class="line"><span class="comment"> * .eslintrc.yml</span></span><br><span class="line"><span class="comment"> * .eslintrc.json（ESLint的JSON文件允许JavaScript风格的注释）</span></span><br><span class="line"><span class="comment"> * .eslintrc（可以是JSON也可以是YAML）</span></span><br><span class="line"><span class="comment"> *  package.json（在package.json里创建一个eslintConfig属性，在那里定义你的配置）</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * 你可以通过在项目根目录创建一个.eslintignore文件告诉ESLint去忽略特定的文件和目录</span></span><br><span class="line"><span class="comment"> * .eslintignore文件是一个纯文本文件，其中的每一行都是一个glob模式表明哪些路径应该忽略检测</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">  <span class="comment">//ESLint默认使用Espree作为其解析器</span></span><br><span class="line">  <span class="comment">//同时babel-eslint也是用得最多的解析器</span></span><br><span class="line">  <span class="attr">&quot;parser&quot;</span>: <span class="string">&quot;espree&quot;</span>,</span><br><span class="line"></span><br><span class="line">  <span class="comment">//parser解析代码时的参数</span></span><br><span class="line">  <span class="attr">&quot;parserOption&quot;</span>: &#123;</span><br><span class="line">    <span class="comment">//指定要使用的ECMAScript版本，默认值5</span></span><br><span class="line">    <span class="attr">&quot;ecmaVersion&quot;</span>: <span class="number">5</span>,</span><br><span class="line">    <span class="comment">//设置为script(默认)或module（如果你的代码是ECMAScript模块)</span></span><br><span class="line">    <span class="attr">&quot;sourceType&quot;</span>: <span class="string">&quot;script&quot;</span>,</span><br><span class="line">    <span class="comment">//这是个对象，表示你想使用的额外的语言特性,所有选项默认都是false</span></span><br><span class="line">    <span class="attr">&quot;ecmafeatures&quot;</span>: &#123;</span><br><span class="line">      <span class="comment">//允许在全局作用域下使用return语句</span></span><br><span class="line">      <span class="attr">&quot;globalReturn&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">      <span class="comment">//启用全局strict模式（严格模式）</span></span><br><span class="line">      <span class="attr">&quot;impliedStrict&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">      <span class="comment">//启用JSX</span></span><br><span class="line">      <span class="attr">&quot;jsx&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">      <span class="comment">//启用对实验性的objectRest/spreadProperties的支持</span></span><br><span class="line">      <span class="attr">&quot;experimentalObjectRestSpread&quot;</span>: <span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">//指定环境，每个环境都有自己预定义的全局变量，可以同时指定多个环境，不矛盾</span></span><br><span class="line">  <span class="attr">&quot;env&quot;</span>: &#123;</span><br><span class="line">    <span class="comment">//效果同配置项ecmaVersion一样</span></span><br><span class="line">    <span class="attr">&quot;es6&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">&quot;browser&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">&quot;node&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">&quot;commonjs&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">&quot;mocha&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">&quot;jquery&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">     <span class="comment">//如果你想使用来自某个插件的环境时，确保在plugins数组里指定插件名</span></span><br><span class="line">     <span class="comment">//格式为：插件名/环境名称（插件名不带前缀）</span></span><br><span class="line">    <span class="attr">&quot;react/node&quot;</span>: <span class="literal">true</span></span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">//指定环境为我们提供了预置的全局变量</span></span><br><span class="line">  <span class="comment">//对于那些我们自定义的全局变量，可以用globals指定</span></span><br><span class="line">  <span class="comment">//设置每个变量等于true允许变量被重写，或false不允许被重写</span></span><br><span class="line">  <span class="attr">&quot;globals&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;globalVar1&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">&quot;globalVar2&quot;</span>: <span class="literal">false</span></span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">//ESLint支持使用第三方插件</span></span><br><span class="line">  <span class="comment">//在使用插件之前，你必须使用npm安装它</span></span><br><span class="line">  <span class="comment">//全局安装的ESLint只能使用全局安装的插件</span></span><br><span class="line">  <span class="comment">//本地安装的ESLint不仅可以使用本地安装的插件还可以使用全局安装的插件</span></span><br><span class="line">  <span class="comment">//plugin与extend的区别：extend提供的是eslint现有规则的一系列预设</span></span><br><span class="line">  <span class="comment">//而plugin则提供了除预设之外的自定义规则，当你在eslint的规则里找不到合适的的时候</span></span><br><span class="line">  <span class="comment">//就可以借用插件来实现了</span></span><br><span class="line">  <span class="attr">&quot;plugins&quot;</span>: [</span><br><span class="line">    <span class="string">&quot;eslint-plugin-airbnb&quot;</span>,</span><br><span class="line">    <span class="comment">//插件名称可以省略eslint-plugin-前缀</span></span><br><span class="line">    <span class="string">&quot;react&quot;</span></span><br><span class="line">  ],</span><br><span class="line"></span><br><span class="line">  <span class="comment">//具体规则配置</span></span><br><span class="line">  <span class="comment">//off或0--关闭规则</span></span><br><span class="line">  <span class="comment">//warn或1--开启规则，警告级别(不会导致程序退出)</span></span><br><span class="line">  <span class="comment">//error或2--开启规则，错误级别(当被触发的时候，程序会退出)</span></span><br><span class="line">  <span class="attr">&quot;rules&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;eqeqeq&quot;</span>: <span class="string">&quot;warn&quot;</span>,</span><br><span class="line">    <span class="comment">//你也可以使用对应的数字定义规则严重程度</span></span><br><span class="line">    <span class="attr">&quot;curly&quot;</span>: <span class="number">2</span>,</span><br><span class="line">    <span class="comment">//如果某条规则有额外的选项，你可以使用数组字面量指定它们</span></span><br><span class="line">    <span class="comment">//选项可以是字符串，也可以是对象</span></span><br><span class="line">    <span class="attr">&quot;quotes&quot;</span>: [<span class="string">&quot;error&quot;</span>, <span class="string">&quot;double&quot;</span>],</span><br><span class="line">    <span class="attr">&quot;one-var&quot;</span>: [<span class="string">&quot;error&quot;</span>, &#123;</span><br><span class="line">      <span class="attr">&quot;var&quot;</span>: <span class="string">&quot;always&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;let&quot;</span>: <span class="string">&quot;never&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;const&quot;</span>: <span class="string">&quot;never&quot;</span></span><br><span class="line">    &#125;],</span><br><span class="line">    <span class="comment">//配置插件提供的自定义规则的时候，格式为：不带前缀插件名/规则ID</span></span><br><span class="line">    <span class="attr">&quot;react/curly&quot;</span>: <span class="string">&quot;error&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">//ESLint支持在配置文件添加共享设置</span></span><br><span class="line">  <span class="comment">//你可以添加settings对象到配置文件，它将提供给每一个将被执行的规则</span></span><br><span class="line">  <span class="comment">//如果你想添加的自定义规则而且使它们可以访问到相同的信息，这将会很有用，并且很容易配置</span></span><br><span class="line">  <span class="attr">&quot;settings&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;sharedData&quot;</span>: <span class="string">&quot;Hello&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">//Eslint检测配置文件步骤：</span></span><br><span class="line">  <span class="comment">//1.在要检测的文件同一目录里寻找.eslintrc.*和package.json</span></span><br><span class="line">  <span class="comment">//2.紧接着在父级目录里寻找，一直到文件系统的根目录</span></span><br><span class="line">  <span class="comment">//3.如果在前两步发现有root：true的配置，停止在父级目录中寻找.eslintrc</span></span><br><span class="line">  <span class="comment">//4.如果以上步骤都没有找到，则回退到用户主目录~/.eslintrc中自定义的默认配置</span></span><br><span class="line">  <span class="attr">&quot;root&quot;</span>: <span class="literal">true</span>,</span><br><span class="line"></span><br><span class="line">  <span class="comment">//extends属性值可以是一个字符串或字符串数组</span></span><br><span class="line">  <span class="comment">//数组中每个配置项继承它前面的配置</span></span><br><span class="line">  <span class="comment">//可选的配置项如下</span></span><br><span class="line">  <span class="comment">//1.字符串eslint：recommended，该配置项启用一系列核心规则，这些规则报告一些常见问题，即在(规则页面)中打勾的规则</span></span><br><span class="line">  <span class="comment">//2.一个可以输出配置对象的可共享配置包，如eslint-config-standard</span></span><br><span class="line">    <span class="comment">//可共享配置包是一个导出配置对象的简单的npm包，包名称以eslint-config-开头，使用前要安装</span></span><br><span class="line">    <span class="comment">//extends属性值可以省略包名的前缀eslint-config-</span></span><br><span class="line">  <span class="comment">//3.一个输出配置规则的插件包，如eslint-plugin-react</span></span><br><span class="line">    <span class="comment">//一些插件也可以输出一个或多个命名的配置</span></span><br><span class="line">    <span class="comment">//extends属性值为，plugin：包名/配置名称</span></span><br><span class="line">  <span class="comment">//4.一个指向配置文件的相对路径或绝对路径</span></span><br><span class="line">  <span class="comment">//5.字符串eslint：all，启用当前安装的ESLint中所有的核心规则</span></span><br><span class="line">    <span class="comment">//该配置不推荐在产品中使用，因为它随着ESLint版本进行更改。使用的话，请自己承担风险</span></span><br><span class="line">  <span class="attr">&quot;extends&quot;</span>: [</span><br><span class="line">    <span class="string">&quot;eslint:recommended&quot;</span>,</span><br><span class="line">    <span class="string">&quot;standard&quot;</span>,</span><br><span class="line">    <span class="string">&quot;plugin:react/recommended&quot;</span>,</span><br><span class="line">    <span class="string">&quot;./node_modules/coding-standard/.eslintrc-es6&quot;</span>,</span><br><span class="line">    <span class="string">&quot;eslint:all&quot;</span></span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">满天鑫</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://smanman.github.io/post/2db1597d.html">https://smanman.github.io/post/2db1597d.html</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://smanman.github.io" target="_blank">满天鑫</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E5%89%8D%E7%AB%AF/">前端</a><a class="post-meta__tags" href="/tags/%E9%A1%B9%E7%9B%AE%E8%B4%A8%E9%87%8F%E7%9B%91%E6%B5%8B/">项目质量监测</a></div><div class="post_share"><div class="social-share" data-image="https://note-1259153703.cos.ap-nanjing.myqcloud.com/images/20211004082249.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button button--animated"><i class="fas fa-qrcode"></i> 打赏</div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="https://cdn.jsdelivr.net/gh/LVXUEYANGTiger/blog@main/mm_facetoface_collect_qrcode_1628169825807.png" target="_blank"><img class="post-qr-code-img" src="https://cdn.jsdelivr.net/gh/LVXUEYANGTiger/blog@main/mm_facetoface_collect_qrcode_1628169825807.png" alt="微信"/></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="https://cdn.jsdelivr.net/gh/LVXUEYANGTiger/blog@main/1628169797.jpg" target="_blank"><img class="post-qr-code-img" src="https://cdn.jsdelivr.net/gh/LVXUEYANGTiger/blog@main/1628169797.jpg" alt="支付宝"/></a><div class="post-qr-code-desc">支付宝</div></li></ul></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/post/913d55b2.html"><img class="prev-cover" src="https://note-1259153703.cos.ap-nanjing.myqcloud.com/images/20211004082041.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">Vue知识点串讲</div></div></a></div><div class="next-post pull-right"><a href="/post/616f4683.html"><img class="next-cover" src="https://note-1259153703.cos.ap-nanjing.myqcloud.com/images/20211004082041.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">前端性能优化</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span> 相关推荐</span></div><div class="relatedPosts-list"><div><a href="/post/7e996e60.html" title="JavaScript基础第02天笔记"><img class="cover" src="https://note-1259153703.cos.ap-nanjing.myqcloud.com/images/20211004082010.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-11-18</div><div class="title">JavaScript基础第02天笔记</div></div></a></div><div><a href="/post/2e39ac9e.html" title="day04 - Web APIs"><img class="cover" src="https://note-1259153703.cos.ap-nanjing.myqcloud.com/images/20211108212050.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-11-18</div><div class="title">day04 - Web APIs</div></div></a></div><div><a href="/post/40cf0c06.html" title="快来地学习canvas吧"><img class="cover" src="https://note-1259153703.cos.ap-nanjing.myqcloud.com/images/20211004082219.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-11-19</div><div class="title">快来地学习canvas吧</div></div></a></div><div><a href="/post/29321e82.html" title="CSS从入门到精通"><img class="cover" src="https://note-1259153703.cos.ap-nanjing.myqcloud.com/images/20211004082219.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-11-18</div><div class="title">CSS从入门到精通</div></div></a></div><div><a href="/post/89c27a45.html" title="Gulp--基于流的自动化构建工具"><img class="cover" src="https://note-1259153703.cos.ap-nanjing.myqcloud.com/images/20211108212104.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-11-19</div><div class="title">Gulp--基于流的自动化构建工具</div></div></a></div><div><a href="/post/3d42c651.html" title="PM2一键部署"><img class="cover" src="https://note-1259153703.cos.ap-nanjing.myqcloud.com/images/20211004082231.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-11-19</div><div class="title">PM2一键部署</div></div></a></div></div></div><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div id="twikoo-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%A1%B9%E7%9B%AE%E8%B4%A8%E9%87%8F%E7%9B%91%E6%B5%8B"><span class="toc-number">1.</span> <span class="toc-text">项目质量监测</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AF%BE%E7%A8%8B%E4%BB%8B%E7%BB%8D"><span class="toc-number">1.1.</span> <span class="toc-text">课程介绍</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E8%B4%A8%E9%87%8F%E6%A3%80%E6%9F%A5"><span class="toc-number">1.2.</span> <span class="toc-text">代码质量检查</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%89%8D%E7%AB%AF%E4%BB%A3%E7%A0%81%E4%B8%AD%E7%9A%84%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98-Why-Lint"><span class="toc-number">1.2.1.</span> <span class="toc-text">前端代码中的常见问题(Why Lint)</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B9%A6%E5%86%99%E9%A3%8E%E6%A0%BC"><span class="toc-number">1.2.1.1.</span> <span class="toc-text">书写风格</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E8%A7%84%E8%8C%83"><span class="toc-number">1.2.1.2.</span> <span class="toc-text">代码规范</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%AB%98%E5%BA%A6%E8%80%A6%E5%90%88"><span class="toc-number">1.2.1.3.</span> <span class="toc-text">高度耦合</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E8%B4%A8%E9%87%8F%E7%9B%91%E6%B5%8B%EF%BC%88Def-Lint-Code%EF%BC%89"><span class="toc-number">1.2.2.</span> <span class="toc-text">代码质量监测（Def: Lint Code）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E8%BF%9B%E8%A1%8C%E4%BB%A3%E7%A0%81%E8%B4%A8%E9%87%8F%E7%9B%91%E6%B5%8B-How-to-Lint"><span class="toc-number">1.2.3.</span> <span class="toc-text">如何进行代码质量监测(How to Lint)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3%E7%A7%8D%E5%B8%B8%E8%A7%81%E7%9A%84Js%E6%A3%80%E9%AA%8C%E5%B7%A5%E5%85%B7%E6%AF%94%E8%BE%83"><span class="toc-number">1.2.4.</span> <span class="toc-text">3种常见的Js检验工具比较</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#JSLint"><span class="toc-number">1.2.4.1.</span> <span class="toc-text">JSLint</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#JSHint"><span class="toc-number">1.2.4.2.</span> <span class="toc-text">JSHint</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ESLint"><span class="toc-number">1.2.4.3.</span> <span class="toc-text">ESLint</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Lint%E5%B7%A5%E5%85%B7%E4%BB%8B%E7%BB%8D"><span class="toc-number">1.3.</span> <span class="toc-text">Lint工具介绍</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#ESLint-1"><span class="toc-number">1.3.1.</span> <span class="toc-text">ESLint</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%B5%B7%E6%AD%A5%E4%B8%8E%E5%AE%89%E8%A3%85"><span class="toc-number">1.3.1.1.</span> <span class="toc-text">起步与安装</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ESLint%E5%88%9D%E5%A7%8B%E5%8C%96"><span class="toc-number">1.3.1.2.</span> <span class="toc-text">ESLint初始化</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#eslintignore"><span class="toc-number">1.3.1.3.</span> <span class="toc-text">.eslintignore</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ESLint%E7%9A%84%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95"><span class="toc-number">1.3.1.4.</span> <span class="toc-text">ESLint的使用方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8ESlint%E9%85%8D%E7%BD%AE"><span class="toc-number">1.3.1.5.</span> <span class="toc-text">常用ESlint配置</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9C%A8IDE%E4%B8%AD%E7%9A%84%E9%85%8D%E7%BD%AE"><span class="toc-number">1.3.1.6.</span> <span class="toc-text">在IDE中的配置</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9E%E6%88%98vue%E9%A1%B9%E7%9B%AE%E9%85%8D%E7%BD%AE"><span class="toc-number">1.3.1.7.</span> <span class="toc-text">实战vue项目配置</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9E%E6%88%98react%E9%A1%B9%E7%9B%AE%E9%85%8D%E7%BD%AE"><span class="toc-number">1.3.1.8.</span> <span class="toc-text">实战react项目配置</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#StyleLint"><span class="toc-number">1.3.2.</span> <span class="toc-text">StyleLint</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#HTMLHint"><span class="toc-number">1.3.3.</span> <span class="toc-text">HTMLHint</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#e2e-test"><span class="toc-number">1.4.</span> <span class="toc-text">e2e test</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AFe2e-test"><span class="toc-number">1.4.1.</span> <span class="toc-text">什么是e2e test?</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#e2e-test%E5%B7%A5%E5%85%B7%E4%BB%8B%E7%BB%8D"><span class="toc-number">1.4.2.</span> <span class="toc-text">e2e test工具介绍</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Cypress"><span class="toc-number">1.4.2.1.</span> <span class="toc-text">Cypress</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Nightwatch"><span class="toc-number">1.4.2.2.</span> <span class="toc-text">Nightwatch</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#TeatCafe"><span class="toc-number">1.4.2.3.</span> <span class="toc-text">TeatCafe</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#e2e-test%E6%A1%88%E4%BE%8B"><span class="toc-number">1.4.3.</span> <span class="toc-text">e2e test案例</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Codecov"><span class="toc-number">1.5.</span> <span class="toc-text">Codecov</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Codecov%E7%AE%80%E4%BB%8B"><span class="toc-number">1.5.1.</span> <span class="toc-text">Codecov简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Codecov%E4%BD%BF%E7%94%A8"><span class="toc-number">1.5.2.</span> <span class="toc-text">Codecov使用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%89%8D%E7%AB%AF%E9%A1%B9%E7%9B%AE%E4%B8%AD%E7%9A%84%E5%BA%94%E7%94%A8"><span class="toc-number">1.5.3.</span> <span class="toc-text">前端项目中的应用</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A1%A5%E5%85%85%E5%AD%A6%E4%B9%A0"><span class="toc-number">1.6.</span> <span class="toc-text">补充学习</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A1%A5%E5%85%85%E8%B5%84%E6%96%99"><span class="toc-number">1.6.1.</span> <span class="toc-text">补充资料</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E8%B4%A8%E9%87%8F%E7%AE%A1%E6%8E%A7%E7%9A%84%E5%9B%9B%E4%B8%AA%E9%98%B6%E6%AE%B5"><span class="toc-number">1.6.1.1.</span> <span class="toc-text">代码质量管控的四个阶段</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95%E7%9A%84%E5%88%86%E7%B1%BB"><span class="toc-number">1.6.1.2.</span> <span class="toc-text">软件测试的分类</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#What-is-%E2%80%9CLinting%E2%80%9D"><span class="toc-number">1.6.1.3.</span> <span class="toc-text">What is “Linting”?</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#React%E4%B8%AD%E7%9A%84%E9%85%8D%E7%BD%AE%E8%B5%84%E6%96%99"><span class="toc-number">1.6.1.4.</span> <span class="toc-text">React中的配置资料</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%8C%E6%95%B4%E7%9A%84ESLint%E6%96%87%E4%BB%B6%E9%85%8D%E7%BD%AE%E5%B1%9E%E6%80%A7%E7%9A%84%E8%A7%A3%E9%87%8A"><span class="toc-number">1.6.2.</span> <span class="toc-text">完整的ESLint文件配置属性的解释</span></a></li></ol></li></ol></li></ol></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2024 By 满天鑫</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="framework-info"><img src="https://note-1259153703.cos.ap-nanjing.myqcloud.com/images/202301132049386.png"/><span> </span><a target="_blank" rel="noopener" href="http://beian.miit.gov.cn/">晋ICP备2022012091号-1</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="font-plus" type="button" title="放大字体"><i class="fas fa-plus"></i></button><button id="font-minus" type="button" title="缩小字体"><i class="fas fa-minus"></i></button><button id="translateLink" type="button" title="简繁转换">简</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="chat_btn" type="button" title="rightside.chat_btn"><i class="fas fa-sms"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div></div><hr/><div id="local-search-results"></div><span class="search-close-button"><i class="fas fa-times"></i></span></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="/js/search/local-search.js"></script><script>var preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',preloader.endLoading())</script><div class="js-pjax"><script>(()=>{
  const $countDom = document.getElementById('twikoo-count')
  const init = () => {
    twikoo.init(Object.assign({
      el: '#twikoo-wrap',
      envId: 'pinglun-9gh2lmcnd8587831',
      region: ''
    }, null))
  }

  const getCount = () => {
    twikoo.getCommentsCount({
      envId: 'pinglun-9gh2lmcnd8587831',
      region: '',
      urls: [window.location.pathname],
      includeReply: false
    }).then(function (res) {
      $countDom.innerText = res[0].count
    }).catch(function (err) {
      console.error(err);
    });
  }

  const loadTwikoo = (bool = false) => {
    if (typeof twikoo === 'object') {
      init()
      bool && $countDom && setTimeout(getCount,0)
    } else {
      getScript('https://cdn.jsdelivr.net/npm/twikoo/dist/twikoo.all.min.js').then(()=> {
        init()
        bool && $countDom && setTimeout(getCount,0)
      })
    }
  }

  if ('Twikoo' === 'Twikoo' || !false) {
    if (false) btf.loadComment(document.getElementById('twikoo-wrap'), loadTwikoo)
    else loadTwikoo(true)
  } else {
    window.loadOtherComment = () => {
      loadTwikoo()
    }
  }
})()</script></div><script defer src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script defer src="https://cdn.jsdelivr.net/npm/hexo-theme-volantis@latest/source/js/issues.min.js"></script><script src="//code.tidio.co/smwivpnwumemac2wohardi3d3gpud1ag.js" async="async"></script><script>function onTidioChatApiReady() {
  window.tidioChatApi.hide();
  window.tidioChatApi.on("close", function() {
    window.tidioChatApi.hide();
  });
}
if (window.tidioChatApi) {
  window.tidioChatApi.on("ready", onTidioChatApiReady);
} else {
  document.addEventListener("tidioChat-ready", onTidioChatApiReady);
}

var chatBtnFn = () => {
  document.getElementById("chat_btn").addEventListener("click", function(){
    window.tidioChatApi.show();
    window.tidioChatApi.open();
  });
}
chatBtnFn()
</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>